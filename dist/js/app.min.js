!function(){"use strict";var portfolioApp=angular.module("portfolioApp",["duScroll"]);portfolioApp.directive("scroll",function($window){return function(scope){var headerHeight=angular.element("header").height();scope.showScrollUp=!1,scope.pinHeader=!1,angular.element($window).bind("scroll",function(){$(this).scrollTop()>2*headerHeight?(scope.showScrollUp=!0,scope.pinHeader=!0):(scope.showScrollUp=!1,scope.pinHeader=!1),scope.$apply()})}}),portfolioApp.directive("lazy",function($timeout){return{restrict:"C",link:function(scope,elm){$timeout(function(){$(elm).lazyload({effect:"fadeIn",effectspeed:500,skip_invisible:!1})},0)}}}),portfolioApp.controller("PortfolioCtrl",function($q,$scope,$http,$timeout,$document){$scope.showNavMenu=!1,$scope.showWaiting=!0,$scope.showModal=!1,$scope.isPinned=!1,$scope.results=[],$scope.result=null,$scope.toggleMenu=function(e){$scope.showNavMenu=!$scope.showNavMenu,e.preventDefault()},$scope.goToPage=function(e,id,duration){angular.element(".menu a").removeClass(),$(e.target).parent().addClass("active"),$document.scrollToElement(angular.element(id),0,void 0===duration?1400:duration),e.preventDefault()},$scope.loadPhotos=function(){var deferred=$q.defer();return $http.get("./js/data/portfolio.json?v=2").success(function(data){deferred.resolve(data)}).error(function(){deferred.reject()}),deferred.promise};var photos=function(){$scope.loadPhotos().then(function(data){$scope.results=data.items,$scope.predicate="name",$scope.showWaiting=!1})};$timeout(photos,2500),$scope.loadPhoto=function(e,item){$scope.showModal=!0,$scope.result=item,e.preventDefault()},$scope.closeModal=function(e){$scope.showModal=!1,$scope.goToPage(e,"#work",400)},$("#portfolio").mixitup({targetSelector:".item",transitionSpeed:450})})}();